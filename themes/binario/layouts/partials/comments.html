{{- $server := "" }}
{{- if ge (int (index (split hugo.Version ".") 1)) "120" }}
	{{- $server = hugo.IsServer }}
{{- else }}
	{{- $server = .Site.IsServer }}
{{- end }}
{{- if and (.Site.Config.Services.Disqus.Shortname) (.Param "comments") (not $server) }}
<section class="comments block">
	{{ template "_internal/disqus.html" . }}
</section>
{{- end }}

<section class="comments block">
	<script src="https://giscus.app/client.js"
			data-repo="fagnercarvalho/blog"
			data-repo-id="R_kgDONzAT9A"
			data-category="Q&A"
			data-category-id="DIC_kwDONzAT9M4Cmo8Z"
			data-mapping="url"
			data-strict="0"
			data-reactions-enabled="1"
			data-emit-metadata="0"
			data-input-position="top"
			data-theme="dark"
			data-lang="en"
			crossorigin="anonymous"
			async>
	</script>
</section>